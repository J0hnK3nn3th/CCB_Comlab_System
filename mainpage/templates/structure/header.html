{% load static %}
<link href="{% static 'header.css' %}" rel="stylesheet">
<!-- SweetAlert2 CSS and JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Global SweetAlert Toast Configuration -->
<script>
    // Global toast notification function
    window.showToast = function(message, type = 'success') {
        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.addEventListener('mouseenter', Swal.stopTimer)
                toast.addEventListener('mouseleave', Swal.resumeTimer)
            }
        });

        Toast.fire({
            icon: type,
            title: message
        });
    };

    // Global confirmation dialog function
    window.confirmAction = function(title, text, confirmText = 'Yes') {
        return Swal.fire({
            title: title,
            text: text,
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: confirmText,
            cancelButtonText: 'Cancel'
        });
    };

    // Logout confirmation
    function confirmLogout() {
        Swal.fire({
            title: 'Are you sure?',
            text: "You will be logged out of the admin panel.",
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Yes, logout',
            cancelButtonText: 'Cancel'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '{% url "logout" %}';
            }
        });
        return false;
    }
</script>

<div class="header" style="margin-top: 10px;">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-4">
                <h4 class="mb-0">Computer Laboratory System</h4>
            </div>
            <div class="col-md-4">
                <!-- Breadcrumb removed -->
            </div>
            <div class="col-md-4">
                <div class="d-flex justify-content-end align-items-center gap-3">
                    {% if admin_user_name %}
                        <span class="admin-welcome">
                            <i class="fas fa-user-shield"></i>
                            Welcome, {{ admin_user_name }}
                        </span>
                        <a href="{% url 'logout' %}" class="btn btn-logout" onclick="return confirmLogout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>